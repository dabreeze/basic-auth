package com.authentication.loan_mandate.domain.repository;import com.authentication.loan_mandate.data.LoanMandateGroupDto;import com.authentication.loan_mandate.domain.model.LoanMandate;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.query.Param;import org.springframework.stereotype.Repository;import java.util.List;@Repositorypublic interface LoanMandateRepository extends JpaRepository<LoanMandate, Long> {    List<LoanMandate> findByStatusIn(List<Integer>status);    List<LoanMandate>findByStartDateLessThanEqual(String date);    List<LoanMandate>findByStartDate(String date);    List<LoanMandate>findByBatchNumber(String batch);    @Query("SELECT new com.authentication.loan_mandate.data.LoanMandateGroupDto(u.batchNumber, SUM(u.amount) AS totalAmount, COUNT(u) AS total) FROM LoanMandate u GROUP BY u.batchNumber")    List<LoanMandateGroupDto> findAllGroupedLoanMandate(@Param("startDate")String startDate);    @Query("SELECT c FROM LoanMandate c WHERE (:startDate is null or c.startDate = :startDate) and (:endDate is null or c.endDate = :endDate) and (:batchNumber is null or c.batchNumber = :batchNumber) and (:status is null or c.status = :status)")    List<LoanMandate>findAllLoanMandate(@Param("startDate")String startDate, @Param("endDate")  String endDate, @Param("batchNumber") String batchNumber, @Param("status") Integer status);}